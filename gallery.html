<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Virpi Annanolli | Taidegalleria</title>
  <link rel="icon" type="image/x-icon" href="android-chrome-512x512.png">
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=MonteCarlo&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <script defer src="script.js"></script>
  <style>
    body {
      margin: 0;
      font-family: "Poppins", sans-serif;
      background: #f8f8f8;
      color: #222;
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 2rem;
      background: white;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    header h1.logo {
      font-family: "MonteCarlo", cursive;
      font-size: 1.8rem;
    }

    nav a {
      margin: 0 1rem;
      text-decoration: none;
      font-weight: 600;
      color: #333;
    }

    main {
      padding: 2rem;
    }

    h2 {
      text-align: center;
      margin-bottom: 2rem;
    }

    /* --- 3D cylinder gallery --- */
    .gallery-circle {
      perspective: 1200px;
      height: 80vh;
      overflow: hidden;
      position: relative;
    }

    .circle-container {
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform 0.8s ease;
      position: relative;
    }

    .gallery-row {
      position: absolute;
      top: 50%;
      left: 50%;
      transform-style: preserve-3d;
      display: flex;
      gap: 1rem;
      justify-content: center;
      transform-origin: center center;
    }

    .gallery-row .art-card img {
      width: 220px;
      height: auto;
      border-radius: 12px;
      box-shadow: 0 5px 12px rgba(0,0,0,0.3);
      transition: transform 0.3s;
      background: white;
    }
    .gallery-row .art-card img:hover {
      transform: scale(1.05);
    }

    /* Modal (kept from old gallery) */
    .modal {
      display: none;
      position: fixed;
      z-index: 200;
      padding-top: 60px;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background: rgba(0,0,0,0.85);
    }

    .modal-content {
      margin: auto;
      display: block;
      max-width: 90%;
    }

    .close {
      position: absolute;
      top: 20px;
      right: 40px;
      color: white;
      font-size: 2rem;
      cursor: pointer;
    }
  </style>
</head>
<body class="fade">
  <header>
    <h1 class="logo">Virpi Annanolli</h1>
    <a href="https://www.instagram.com/virpiannart/?hl=en"
      class="instagram-btn"
      target="_blank"
      aria-label="Instagram">
      <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false" width="24" height="24">
        <rect x="2" y="2" width="20" height="20" rx="5"/>
        <circle cx="12" cy="12" r="5"/>
        <circle class="dot" cx="17.5" cy="6.5" r="1.5"/>
      </svg>
    </a>
    <nav>
      <a href="index.html" data-key="home">Etusivu</a>
      <a href="gallery.html" data-key="gallery">Galleria</a>
      <a href="contact.html" data-key="contact">Yhteystiedot</a>
    </nav>
    <button id="langToggle">EN</button>
  </header>

  <main>
    <h2>Galleria</h2>

    <div class="gallery-circle">
      <div class="circle-container">

        <!-- Row 1 -->
        <div class="gallery-row">
          <div class="art-card"><img src="IMG-20250819-WA0005.jpg" alt="Teos"></div>
          <div class="art-card"><img src="IMG-20250819-WA0006.jpg" alt="Teos"></div>
        </div>

        <!-- Row 2 -->
        <div class="gallery-row">
          <div class="art-card"><img src="IMG-20250819-WA0007.jpg" alt="Teos"></div>
          <div class="art-card"><img src="IMG-20250819-WA0008.jpg" alt="Teos"></div>
        </div>

        <!-- Row 3 -->
        <div class="gallery-row">
          <div class="art-card"><img src="IMG-20250819-WA0009.jpg" alt="Teos"></div>
          <div class="art-card"><img src="IMG-20250819-WA0010.jpg" alt="Teos"></div>
        </div>

        <!-- Row 4 -->
        <div class="gallery-row">
          <div class="art-card"><img src="IMG-20250819-WA0011.jpg" alt="Teos"></div>
          <div class="art-card"><img src="IMG-20250819-WA0012.jpg" alt="Teos"></div>
        </div>

        <!-- Row 5 -->
        <div class="gallery-row">
          <div class="art-card"><img src="IMG-20250819-WA0013.jpg" alt="Teos"></div>
          <div class="art-card"><img src="placeholder.jpg" alt="Placeholder"></div>
        </div>

      </div>
    </div>
  </main>

  <div id="imageModal" class="modal" aria-hidden="true">
    <span class="close">&times;</span>
    <div class="modal-content">
      <img id="modalImg" src="" alt="">
    </div>
  </div>

  <script>
    const container = document.querySelector(".circle-container");
    const rows = document.querySelectorAll(".circle-container .gallery-row");
    const total = rows.length;
    const angle = 360 / total;
    const radius = 450; // distance from center

    // position rows around a circle
    rows.forEach((row, i) => {
      const rotation = angle * i;
      row.style.transform = `rotateX(${rotation}deg) translateZ(${radius}px)`;
    });

    let currentIndex = 0;

    function rotateWheel(direction) {
      currentIndex = (currentIndex + direction + total) % total;
      container.style.transform = `rotateX(${-currentIndex * angle}deg)`;
    }

    // Scroll control
    let lastScroll = 0;
    document.addEventListener("wheel", (e) => {
      if (Date.now() - lastScroll < 600) return; // throttle
      if (e.deltaY > 0) rotateWheel(1); // scroll down
      else rotateWheel(-1); // scroll up
      lastScroll = Date.now();
    }, { passive: true });

    // Modal viewer
    const modal = document.getElementById("imageModal");
    const modalImg = document.getElementById("modalImg");
    const closeBtn = document.querySelector(".close");

    document.querySelectorAll(".art-card img").forEach(img => {
      img.addEventListener("click", () => {
        modal.style.display = "block";
        modalImg.src = img.src;
      });
    });

    closeBtn.onclick = () => modal.style.display = "none";
    modal.onclick = (e) => { if (e.target === modal) modal.style.display = "none"; };
  </script>
</body>
</html>
