<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Virpi Annanolli | Galleria</title>
  <link rel="icon" type="image/x-icon" href="android-chrome-512x512.png">
  <link rel="stylesheet" href="style.css" />
  <script defer src="script.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=MonteCarlo&display=swap" rel="stylesheet">

  <style>
    main {
      margin-top: 100px;
    }

    h2 {
      text-align: center;
      margin-bottom: 20px;
    }

    /* --- Newest paintings row --- */
    .latest-row {
      display: flex;
      gap: 1rem;
      overflow-x: auto;
      padding: 1rem;
      scroll-snap-type: x mandatory;
    }
    .latest-row::-webkit-scrollbar {
      display: none;
    }
    .latest-card {
      flex: 0 0 auto;
      width: 280px;
      border-radius: 12px;
      overflow: hidden;
      background: #000;
      scroll-snap-align: start;
    }
    .latest-card img {
      width: 100%;
      height: auto;
      display: block;
    }

    /* --- Cylinder gallery --- */
    .gallery-circle {
      perspective: 1400px;
      height: 70vh;
      overflow: hidden;
      position: relative;
      margin-top: 80px;
    }
    .circle-container {
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform 0.8s ease;
      position: relative;
    }
    .gallery-row {
      position: absolute;
      top: 50%;
      left: 50%;
      transform-style: preserve-3d;
      display: flex;
      gap: 1.5rem;
      justify-content: center;
      align-items: center;
      transform-origin: center center;
    }
    .row-label {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      bottom: -3.5rem;
      font-size: 1.1rem;
      font-weight: 600;
      background: rgba(255,255,255,0.85);
      padding: 0.3rem 1rem;
      border-radius: 10px;
      white-space: nowrap;
    }
    .art-card img {
      width: 220px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.25);
      transition: transform 0.3s, box-shadow 0.3s;
      background: white;
    }
    .art-card img:hover {
      transform: scale(1.06);
      box-shadow: 0 8px 18px rgba(0,0,0,0.3);
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 200;
      padding-top: 60px;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.88);
    }
    .modal-content {
      margin: auto;
      display: block;
      max-width: 90%;
    }
    .close {
      position: absolute;
      top: 20px;
      right: 40px;
      color: white;
      font-size: 2rem;
      cursor: pointer;
    }
  </style>
</head>
<body class="fade">
  <header>
    <h1 class="logo">Virpi Annanolli</h1>
    <a href="https://www.instagram.com/virpiannart/?hl=en"
      class="instagram-btn"
      target="_blank"
      aria-label="Instagram">
      <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <rect x="2" y="2" width="20" height="20" rx="5"/>
        <circle cx="12" cy="12" r="5"/>
        <circle class="dot" cx="17.5" cy="6.5" r="1.5"/>
      </svg>
    </a>
    <nav>
      <a href="index.html" data-key="home">Etusivu</a>
      <a href="gallery.html" data-key="gallery">Galleria</a>
      <a href="contact.html" data-key="contact">Yhteystiedot</a>
    </nav>
    <button id="langToggle">EN</button>
  </header>

  <main>
    <h2>Uusimmat teokset</h2>
    <div class="latest-row">
      <div class="latest-card"><img src="IMG-20250819-WA0015.jpg" alt="Uusi teos"></div>
      <div class="latest-card"><img src="IMG-20250819-WA0016.jpg" alt="Uusi teos"></div>
      <div class="latest-card"><img src="IMG-20250819-WA0017.jpg" alt="Uusi teos"></div>
      <div class="latest-card"><img src="IMG-20250819-WA0018.jpg" alt="Uusi teos"></div>
    </div>

    <h2>Galleria</h2>
    <div class="gallery-circle">
      <div class="circle-container">

        <!-- Akvarelli -->
        <div class="gallery-row">
          <div class="art-card"><img src="IMG-20250819-WA0005.jpg" alt="Akvarelli"></div>
          <div class="art-card"><img src="IMG-20250819-WA0006.jpg" alt="Akvarelli"></div>
          <span class="row-label">Akvarelli</span>
        </div>

        <!-- Öljyväri -->
        <div class="gallery-row">
          <div class="art-card"><img src="IMG-20250819-WA0007.jpg" alt="Öljyväri"></div>
          <div class="art-card"><img src="IMG-20250819-WA0008.jpg" alt="Öljyväri"></div>
          <span class="row-label">Öljyväri</span>
        </div>

        <!-- Sekatekniikka -->
        <div class="gallery-row">
          <div class="art-card"><img src="IMG-20250819-WA0009.jpg" alt="Sekatekniikka"></div>
          <div class="art-card"><img src="IMG-20250819-WA0010.jpg" alt="Sekatekniikka"></div>
          <span class="row-label">Sekatekniikka</span>
        </div>

        <!-- Grafiikka -->
        <div class="gallery-row">
          <div class="art-card"><img src="IMG-20250819-WA0011.jpg" alt="Grafiikka"></div>
          <div class="art-card"><img src="IMG-20250819-WA0012.jpg" alt="Grafiikka"></div>
          <span class="row-label">Grafiikka</span>
        </div>

        <!-- Digitaaliset työt -->
        <div class="gallery-row">
          <div class="art-card"><img src="IMG-20250819-WA0013.jpg" alt="Digitaaliset työt"></div>
          <div class="art-card"><img src="placeholder.jpg" alt="Digitaalinen"></div>
          <span class="row-label">Digitaaliset työt</span>
        </div>

      </div>
    </div>
  </main>

  <!-- Modal -->
  <div id="imageModal" class="modal" aria-hidden="true">
    <span class="close">&times;</span>
    <div class="modal-content">
      <img id="modalImg" src="" alt="">
    </div>
  </div>

  <script>
    const container = document.querySelector(".circle-container");
    const rows = document.querySelectorAll(".circle-container .gallery-row");
    const total = rows.length;
    const angle = 360 / total;
    const radius = 500;

    rows.forEach((row, i) => {
      const rotation = angle * i;
      row.style.transform = `rotateX(${rotation}deg) translateZ(${radius}px)`;
    });

    let currentIndex = 0;
    function rotateWheel(direction) {
      currentIndex = (currentIndex + direction + total) % total;
      container.style.transform = `rotateX(${-currentIndex * angle}deg)`;
    }

    let lastScroll = 0;
    document.addEventListener("wheel", (e) => {
      if (Date.now() - lastScroll < 600) return;
      if (e.deltaY > 0) rotateWheel(1);
      else rotateWheel(-1);
      lastScroll = Date.now();
    }, { passive: true });

    // Modal
    const modal = document.getElementById("imageModal");
    const modalImg = document.getElementById("modalImg");
    const closeBtn = document.querySelector(".close");

    document.querySelectorAll(".art-card img, .latest-card img").forEach(img => {
      img.addEventListener("click", () => {
        modal.style.display = "block";
        modalImg.src = img.src;
      });
    });
    closeBtn.onclick = () => modal.style.display = "none";
    modal.onclick = (e) => { if (e.target === modal) modal.style.display = "none"; };
  </script>
</body>
</html>
